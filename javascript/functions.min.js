/* https://www.axel-hahn.de/ */
function initDrawH3list(){var a="",b=!1,c=0;$("h3").each(function(){b=this.id?this.id:"h3"+this.innerHTML.replace(/\W/g,"");this.id||(this.id=b);"h3menu"!==this.id&&(c++,a+='<li><a href="#'+b+'" class="scroll-link"><i class="fas fa-angle-right"></i>&nbsp;'+this.innerHTML.replace(/(<([^>]+)>)/ig,"")+"</a></li>")});2>c?(a="",$(".sidebar-menu>li.active>span.submenu").hide()):$(".sidebar-menu>li.active>span.submenu").html('<ul class="treeview-menu" style="display: block;">'+a+"</ul>")}
function initSoftscroll(){$(function(){$("a.scroll-link").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var a=$(this.hash);a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length)return $("html,body").animate({scrollTop:a.offset().top-30},300),!1}})})}
function filterServer(a){var b=0;"null"===a&&(a="");localStorage.setItem("apachestatusFilterServer",a);$("#serverlist ul li a").each(function(){!a||0<=$(this).html().indexOf(a)?(b++,$(this).css("display","block")):$(this).css("display","none")});$("#srvcounter").html(a?b:"");$("#serverlist ul li.active a").each(function(){$(this).css("display","block")});var c=25>b;$("#serverlist>li ").each(function(){c?$(this).removeClass("dropdown-submenu"):$(this).addClass("dropdown-submenu");$(this).attr("onmouseover",
c?"":"$(this).addClass('open');");$(this).attr("onmouseout",c?"":"$(this).removeClass('open');")});$("#serverlist li ul").each(function(){c?$(this).removeClass("dropdown-menu"):$(this).addClass("dropdown-menu");iCountItems=$(this).find("li>a").length;iCountVisibleItems=0;oUL=$(this);$(oUL).find("li>a").each(function(){"block"===$(this).css("display")&&iCountVisibleItems++});sInfotext=iCountVisibleItems!=iCountItems?iCountVisibleItems+"/ "+iCountItems:iCountItems;$(oUL).prev().children(".info").html(" ("+
sInfotext+")");$(oUL).prev().css("display",iCountVisibleItems?"block":"none")})}
function initServerFilter(){var a=0;$("#serverlist li").each(function(){a++});var b=localStorage.getItem("apachestatusFilterServer")+"";void 0===b&&(b="");if(5<a){$("#serverlist >li>a").append('<span class="info" style="margin-right: 1em;">-</span>');var c='<li><form class="form-inline">\n            <div class="form-group" style="margin-bottom: 0.5em; min-width: 20em;">\n                <input type="text" id="esrvfilter" style="margin-left: 1em;" \n                    onkeypress="filterServer(this.value);" class="form-control" onkeydown="filterServer(this.value);" onkeyup="filterServer(this.value);" \n                    placeholder="'+aLang.srvFilterPlaceholder+
'"\n                    value="'+b+'" />\n                <span id="srvcounter"></span>\n            </div></form></li>';$("#serverlist").prepend(c)}filterServer(b)}
function initTileProgress(){var a=!1,b=!1;$(".progress-bar").each(function(){sId=$(this).attr("id").replace(/^progress\-/,"");sSrv=sId.replace(/\-.*/,"");if(a=sId.replace(/^.*\-/,"")){var c=new counterhistory(sSrv,a);b=c.getLast(50);aDataLast=c.getLast(1);currentVal=aDataLast.max;b&&$("#progress-"+sId).css("width",currentVal/b.max*100+"%")}})}
function initPage(){initDrawH3list();initSoftscroll();initServerFilter();initTileProgress();$("body").append('<div id="'+sDivPlotter+'" class="plotter"></div>')}function showTab(a){mydiv=".subh2 ";$(mydiv+" > h3").hide();$(mydiv+" > .subh3").hide();$(mydiv+" > "+a).show();$(mydiv+" > "+a+" + div.subh3").show();$(mydiv+" li a").blur();return!1}var sDivPlotter="divPlotter",bPlotterSticky=!1;
function stickyGraph(a,b,c){var e=bPlotterSticky;bPlotterSticky=!1;$("#"+sDivPlotter+" .btnclose").hide();showGraph(a,b,c);e||(bPlotterSticky=!0,$("#"+sDivPlotter+" .btnclose").show())}
function showGraphInline(a,b,c,e,q,k,h){var d=(new counterhistory(b,c)).getLast(e);if(h)var u=(new counterhistory(b,h)).getLast(e);var r=a+"-chart";if(!d||!d.data||!d.data.length||!1===d.min)return!1;for(var n=e=b="",p="",t=[],g="",l="",m=d.data.length-1;0<=m;m--){var f=d.data[m];t.push(new Date(f[0]));b+=(b?", ":"")+(f[1]/1===f[1]?f[1]:'"'+f[1]+'"');e+=(e?", ":"")+d.avg;n+=(n?", ":"")+(k?k:d.max);p+=(p?", ":"")+d.min;h&&(f=u.data[m],l+=(l?", ":"")+(f[1]/1===f[1]?f[1]:'"'+f[1]+'"'))}console.log("sData ("+
c+") = "+b);console.log("sData2 ("+h+")= "+l);aLang&&(g+="values: "+d.data.length+"<br>",g+=aLang.statsCurrent?aLang.statsCurrent+": "+d.data[0][1]+"<br>":"",g+=aLang.statsMin?aLang.statsMin+": "+d.min+"<br>":"",g+=aLang.statsMax?aLang.statsMax+": "+d.max+"<br>":"",g+=aLang.statsAvg?aLang.statsAvg+": "+d.avg+"<br>":"");$("#"+a).html('<div class="infos">'+g+'</div><canvas id="'+r+'"></canvas>');a=document.getElementById(r).getContext("2d");new Chart(a,{type:"bar",data:{labels:t,datasets:[{type:"line",
data:JSON.parse("["+e+"]"),borderColor:"#e0a010",borderWidth:1,borderDash:[3,3],fill:!1,radius:0},{type:"line",data:JSON.parse("["+p+"]"),borderColor:"#008000",borderWidth:1,borderDash:[3,3],fill:!1,radius:0},{type:"line",data:JSON.parse("["+n+"]"),borderColor:"#ff0000",borderWidth:1,borderDash:[3,3],fill:!1,radius:0},{type:"line",label:h,data:JSON.parse("["+l+"]"),borderColor:"#888888",backgroundColor:"#eeeeee",borderWidth:1,borderDash:[3,1],radius:0},{type:"bar",label:q,data:JSON.parse("["+b+"]"),
backgroundColor:"#80d0f4",lineTension:0,radius:0}]},options:{animation:{duration:0},legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{ticks:{beginAtZero:!0,max:k?k:d.max}}]},title:{display:!1,text:q}}});return!0}
function showGraph(a,b,c){if(bPlotterSticky)return!1;var e='<div class="btnclose" onclick="hideGraph(1);"> X </div><div class="title">'+c+'</div><div id="hovergraph" class="graph"></div>';$("#"+sDivPlotter).html(e).show();showGraphInline("hovergraph",a,b,50,c)||$("#"+sDivPlotter).hide()}function hideGraph(a){a&&(bPlotterSticky=!1);if(bPlotterSticky)return!1;$("#"+sDivPlotter).hide()}function twodigits(a){return 9<a?a:"0"+a};