/* https://www.axel-hahn.de/ */
function initDrawH3list(){var a="",c=!1,b=0;$("h3").each(function(){c=this.id?this.id:"h3"+this.innerHTML.replace(/\W/g,"");this.id||(this.id=c);"h3menu"!==this.id&&(b++,a+='<li><a href="#'+c+'" class="scroll-link"><i class="fas fa-angle-right"></i>&nbsp;'+this.innerHTML.replace(/(<([^>]+)>)/ig,"")+"</a></li>")});2>b?(a="",$(".sidebar-menu>li.active>span.submenu").hide()):$(".sidebar-menu>li.active>span.submenu").html('<ul class="treeview-menu" style="display: block;">'+a+"</ul>")}
function initSoftscroll(){$(function(){$("a.scroll-link").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var a=$(this.hash);a=a.length?a:$("[name="+this.hash.slice(1)+"]");if(a.length)return $("html,body").animate({scrollTop:a.offset().top-30},300),!1}})})}
function filterServer(a){var c=0;"null"===a&&(a="");localStorage.setItem("apachestatusFilterServer",a);$("#serverlist ul li a").each(function(){!a||0<=$(this).html().indexOf(a)?(c++,$(this).css("display","block")):$(this).css("display","none")});$("#srvcounter").html(a?c:"");$("#serverlist ul li.active a").each(function(){$(this).css("display","block")});var b=25>c;$("#serverlist>li ").each(function(){b?$(this).removeClass("dropdown-submenu"):$(this).addClass("dropdown-submenu");$(this).attr("onmouseover",
b?"":"$(this).addClass('open');");$(this).attr("onmouseout",b?"":"$(this).removeClass('open');")});$("#serverlist li ul").each(function(){b?$(this).removeClass("dropdown-menu"):$(this).addClass("dropdown-menu");iCountItems=$(this).find("li>a").length;iCountVisibleItems=0;oUL=$(this);$(oUL).find("li>a").each(function(){"block"===$(this).css("display")&&iCountVisibleItems++});sInfotext=iCountVisibleItems!=iCountItems?iCountVisibleItems+"/ "+iCountItems:iCountItems;$(oUL).prev().children(".info").html(" ("+
sInfotext+")");$(oUL).prev().css("display",iCountVisibleItems?"block":"none")})}
function initServerFilter(){var a=0;$("#serverlist li").each(function(){a++});var c=localStorage.getItem("apachestatusFilterServer")+"";void 0===c&&(c="");if(5<a){$("#serverlist >li>a").append('<span class="info" style="margin-right: 1em;">-</span>');var b='<li><form class="form-inline">\n            <div class="form-group" style="margin-bottom: 0.5em; min-width: 20em;">\n                <input type="text" id="esrvfilter" style="margin-left: 1em;" \n                    onkeypress="filterServer(this.value);" class="form-control" onkeydown="filterServer(this.value);" onkeyup="filterServer(this.value);" \n                    placeholder="'+aLang.srvFilterPlaceholder+
'"\n                    value="'+c+'" />\n                <span id="srvcounter"></span>\n            </div></form></li>';$("#serverlist").prepend(b)}filterServer(c)}
function initTileProgress(){var a=!1,c=!1;$(".progress-bar").each(function(){sId=$(this).attr("id").replace(/^progress\-/,"");sSrv=sId.replace(/\-.*/,"");if(a=sId.replace(/^.*\-/,"")){var b=new counterhistory(sSrv,a);c=b.getLast(50);aDataLast=b.getLast(1);currentVal=aDataLast.max;c&&$("#progress-"+sId).css("width",currentVal/c.max*100+"%")}})}
function initPage(){initDrawH3list();initSoftscroll();initServerFilter();initTileProgress();$("body").append('<div id="'+sDivPlotter+'" class="plotter"></div>')}function showTab(a){mydiv=".subh2 ";$(mydiv+" > h3").hide();$(mydiv+" > .subh3").hide();$(mydiv+" > "+a).show();$(mydiv+" > "+a+" + div.subh3").show();$(mydiv+" li a").blur();return!1}var sDivPlotter="divPlotter",bPlotterSticky=!1;
function stickyGraph(a,c,b){var d=bPlotterSticky;bPlotterSticky=!1;$("#"+sDivPlotter+" .btnclose").hide();showGraph(a,c,b);d||(bPlotterSticky=!0,$("#"+sDivPlotter+" .btnclose").show())}
function showGraphInline(a,c,b,d,p,g,h){b=(new counterhistory(c,b)).getLast(d);if(h)var t=(new counterhistory(c,h)).getLast(d);var q=a+"-chart";if(!b||!b.data||!b.data.length||!1===b.min)return!1;for(var l=d=c="",m="",r=[],f="",n="",k=b.data.length-1;0<=k;k--){var e=b.data[k];r.push(new Date(e[0]));c+=(c?", ":"")+(e[1]/1===e[1]?e[1]:'"'+e[1]+'"');d+=(d?", ":"")+b.avg;l+=(l?", ":"")+(g?g:b.max);m+=(m?", ":"")+b.min;h&&(e=t.data[k],n+=(n?", ":"")+(e[1]/1===e[1]?e[1]:'"'+e[1]+'"'))}aLang&&(f+="values: "+
b.data.length+"<br>",f+=aLang.statsCurrent?aLang.statsCurrent+": "+b.data[0][1]+"<br>":"",f+=aLang.statsMin?aLang.statsMin+": "+b.min+"<br>":"",f+=aLang.statsMax?aLang.statsMax+": "+b.max+"<br>":"",f+=aLang.statsAvg?aLang.statsAvg+": "+b.avg+"<br>":"");$("#"+a).html('<div class="infos">'+f+'</div><canvas id="'+q+'"></canvas>');a=document.getElementById(q).getContext("2d");new Chart(a,{type:"bar",data:{labels:r,datasets:[{type:"line",data:JSON.parse("["+d+"]"),borderColor:"#e0a010",borderWidth:1,borderDash:[3,
3],fill:!1,radius:0},{type:"line",data:JSON.parse("["+m+"]"),borderColor:"#008000",borderWidth:1,borderDash:[3,3],fill:!1,radius:0},{type:"line",data:JSON.parse("["+l+"]"),borderColor:"#ff0000",borderWidth:1,borderDash:[3,3],fill:!1,radius:0},{type:"line",label:h,data:JSON.parse("["+n+"]"),borderColor:"#888888",backgroundColor:"#eeeeee",borderWidth:1,borderDash:[3,1],radius:0},{type:"bar",label:p,data:JSON.parse("["+c+"]"),backgroundColor:"#80d0f4",lineTension:0,radius:0}]},options:{animation:{duration:0},
legend:{display:!1},scales:{xAxes:[{display:!1}],yAxes:[{ticks:{beginAtZero:!0,max:g?g:b.max}}]},title:{display:!1,text:p}}});return!0}function showGraph(a,c,b){if(bPlotterSticky)return!1;var d='<div class="btnclose" onclick="hideGraph(1);"> X </div><div class="title">'+b+'</div><div id="hovergraph" class="graph"></div>';$("#"+sDivPlotter).html(d).show();showGraphInline("hovergraph",a,c,50,b)||$("#"+sDivPlotter).hide()}
function hideGraph(a){a&&(bPlotterSticky=!1);if(bPlotterSticky)return!1;$("#"+sDivPlotter).hide()}function twodigits(a){return 9<a?a:"0"+a};